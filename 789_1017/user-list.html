<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    <title>會員列表</title>
    <link rel="stylesheet" href="user-list.css"> 
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="navbar-container container">
                <input type="checkbox">
                <div class="hamburger-lines">
                    <span class="line line1"></span>
                    <span class="line line2"></span>
                    <span class="line line3"></span>
                </div>
                <ul class="menu-items">
                    <li><a href="Ulogout.html">登出</a></li>
                </ul>
                <h1 class="logo">水中菜園奇幻之旅：魚你一起 活出精菜</h1>
            </div>
        </nav>
    </header>

    <h2>會員列表</h2>
    <div class="Bar">
        <form action="/search" method="GET">
            <input type="text" class="search-bar" name="q" placeholder="輸入搜尋關鍵字" required="required">
            <button type="submit" class="search-button"><p id="search">搜尋 <img src="images/loupe.png" height="16px"></p></button>
        </form>
        <!-- 按鈕 -->
        <input onclick="openModal('modal3')" id="add" class="add" type="button" value="新增使用者">
        <div id="modal3" class="modal">
            <form id=addForm action=# method="post">
                <div class="modal-content">
                    <span class="close" onclick="closeModal('modal3')">&times;</span>
                    <h3>新增會員信息</h3>

                    <div class="form">
                        <label for="name" class="word2" id="word">姓名：</label>
                        <input type="text" placeholder="請輸入姓名" id="user_name" name="user_name" required="required" minlength="2" oninput="checkVaild(this, '請輸入姓名');"><br>
                    </div>

                    <div class="form">
                        <label for="email">電子信箱：</label>
                        <input type="email" placeholder="請輸入電子郵件" id="user_email" name="user_email" required="required" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" oninput="checkVaild(this, '請輸入電子郵件');"><br>
                    </div>

                    <div class="form">
                        <span>性別：</span>
                        <input type="radio" id="male" value="male" name="gender" required="required">
                        <label for="男性" class="light">男性</label>
                        <input type="radio" id="female" value="female" name="gender" required="required">
                        <label for="女性" class="light">女性</label>
                        <input type="radio" id="other" value="other" name="gender" required="required">
                        <label for="不公開" class="light">不公開</label><br>
                    </div>

                    <div class="form">
                        <label for="account" class="word2">帳號：</label>
                        <input type="text" id="user_account" name="account" placeholder="請輸入帳號" required="required" minlength="2" oninput="checkVaild(this, '請輸入帳號');"/><br>
                    </div>

                    <div class="form">
                        <label for="password" class="word2">密碼：</label>
                        <input type="password" id="user_password" name="password" placeholder="格式:含英數至少六個字元" pattern="^(?=.*[a-zA-Z])(?=.*[0-9]).{6,}$" required="required" oninput="setCustomValidity('');" oninvalid="setCustomValidity('請輸入正確的密碼格式:含英數至少六個字元');"/><br>
                    </div>

                    <div class="form">
                        <label for="password2">確認密碼：</label>
                        <input type="password" id="user_password2" name="password2" placeholder="請再次輸入密碼" required="required" oninput="setCustomValidity('');" onchange="if(document.getElementById('user_password').value != document.getElementById('user_password2').value){setCustomValidity('密碼不吻合');}"/><br>
                    </div>
                    
                    <div class="form">
                        <button type="submit" class="btn btn-info" id="add"> 確認新增 </button>
                        <!--<button onclick="addMember()">確認新增</button>-->
                        <button id="add_cancel" onclick="closeModal('modal3')">取消</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
        <div class="container bootstrap snippets bootdey">
            <div class="row">
                <div class="col-lg-12">
                    <div class="main-box no-header clearfix">
                        <div class="main-box-body clearfix">
                            <div class="table-responsive">
                                <table class="table user-list">
                                    <thead>
                                        <tr>
                                        <th><span>會員帳號</span></th>
                                        <th><span>會員名稱</span></th>
                                        <th><span>性別</span></th>
                                        <th><span>電子信箱</span></th>
                                        <th><span>管理</span></th>
                                        <th>&nbsp;</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <p id="account" name="user_account">user_account</p>
                                            </td>
                                            <td>
                                                <p id="name" name="user_name">user_name</p>
                                            </td>
                                            <td>
                                                <p name="user_gender">男性</p>
                                            </td>
                                            <td>
                                                <p id="mail" name="user_email">example@gmail.com</p>
                                            </td>
                                            <td>
                                                <input onclick="openModal('modal1')" id="revise" class="revise" type="image" value="修改" src="images/pencil.png" height="30px">
                                                <div id="modal1" class="modal">
                                                    <form id=reviseForm action=# method="post">
                                                        <div class="modal-content">
                                                            <span class="close" onclick="closeModal('modal1')">&times;</span>
                                                            <h3>修改會員信息</h3>

                                                            <div class="form">
                                                                <label for="name" class="word2" id="word">姓名：</label>
                                                                <input type="text" id="name" name="name" placeholder="請輸入姓名" required="required" minlength="2" oninput="checkVaild(this, '請輸入姓名');"/><br>
                                                            </div>

                                                            <div class="form">
                                                                <label for="email">電子信箱：</label>
                                                                <input type="text" id="email" name="email" placeholder="請輸入電子郵件" required="required" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" oninput="checkVaild(this, '請輸入電子郵件');"/><br>
                                                            </div>

                                                            <div class="form">
                                                                <span>性別：</span>
                                                                <input type="radio" id="male" name="gender" value="male" required="required">
                                                                <label for="male">男性</label>             
                                                                <input type="radio" id="female" name="gender" value="female" required="required">
                                                                <label for="female">女性</label>         
                                                                <input type="radio" id="other" name="gender" value="other" required="required">
                                                                <label for="other">不公開</label><br> 
                                                            </div>

                                                            <div class="form">
                                                                <label for="account" class="word2">帳號：</label>
                                                                <input type="text" id="account" name="account" placeholder="請輸入帳號" required="required" minlength="2" oninput="checkVaild(this, '請輸入帳號');"/><br>
                                                            </div>

                                                            <div class="form">
                                                                <label for="password" class="word2">密碼：</label>
                                                                <input type="password" id="password" name="password" placeholder="格式:含英數至少六個字元" pattern="^(?=.*[a-zA-Z])(?=.*[0-9]).{6,}$" required="required" oninput="setCustomValidity('');" oninvalid="setCustomValidity('請輸入正確的密碼格式:含英數至少六個字元');"/><br>
                                                            </div>

                                                            <div class="form">
                                                                <label for="password2">確認密碼：</label>
                                                                <input type="password" id="password2" name="password2" placeholder="請再次輸入密碼" required="required" oninput="setCustomValidity('');" onchange="if(document.getElementById('password').value != document.getElementById('password2').value){setCustomValidity('密碼不吻合');}"/><br>
                                                            </div>

                                                            <div class="form">
                                                                <button type="submit" class="btn btn-info" id="revise"> 確認修改 </button>
                                                                <!--<button onclick="modifyMember()">確認修改</button>-->
                                                                <button onclick="closeModal('modal1')">取消</button>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                                <input onclick="openModal('modal2')" id="delete" class="delete" type="image" value="刪除" src="images/recycle-bin.png" height="30px">
                                                <div id="modal2" class="modal">
                                                    <form id=reviseForm action=# method="post">
                                                        <div class="modal-content">
                                                            <span class="close" onclick="closeModal('modal2')">&times;</span>
                                                            
                                                            <div class="form">
                                                                <h3>刪除會員</h3>
                                                                <p>確定要刪除會員嗎？</p>
                                                            </div>
    
                                                            <div class="form">
                                                                <button onclick="deleteMember()" class="button" id="closeButton">確認刪除</button>
                                                                <button onclick="closeModal('modal2')" class="button">取消</button>
                                                            </div>

                                                        </div>
                                                    </form>
                                                </div>
                                                <script>
                                                    // 開啟彈跳式對話框
                                                    function openModal(modalId) {
                                                        var modal = document.getElementById(modalId);
                                                        modal.style.display = "block";
                                                    }
                                                
                                                    // 關閉彈跳式對話框
                                                    function closeModal(modalId) {
                                                        var modal = document.getElementById(modalId);
                                                        modal.style.display = "none";
                                                    }
                                                </script>
                                                <script>
                                                    function showModifyDialog() {
                                                        document.getElementById('modifyDialog').style.display = 'block';
                                                    }
                                            
                                                    function closeModifyDialog() {
                                                        document.getElementById('modifyDialog').style.display = 'none';
                                                    }
                                            
                                                    function modifyMember() {
                                                        alert('會員信息已修改');
                                                        closeModifyDialog(); // 關閉彈跳視窗
                                                    }
                                            
                                                    function showDeleteConfirmation() {
                                                        document.getElementById('deleteConfirmation').style.display = 'block';
                                                    }
                                            
                                                    function closeDeleteConfirmation() {
                                                        document.getElementById('deleteConfirmation').style.display = 'none';
                                                    }
                                            
                                                    function deleteMember() {
                                                        // 在這裡處理刪除會員的邏輯
                                                        // 可以執行相應的刪除操作
                                                        alert('會員已刪除');
                                                        closeDeleteConfirmation(); // 關閉刪除確認彈跳視窗
                                                        var closeBtn = document.getElementById("closeButton");
                                                        closeBtn = document.addEventListener("click", function() {
                                                            closeBtn.style.display = "none";
                                                        });
                                                    }

                                                    function addMember() {
                                                        // 在這裡處理修改會員的邏輯
                                                        // 可以從以下元素中獲取所需的信息：
                                                        // document.getElementById('account').value
                                                        // document.getElementById('name').value
                                                        // document.querySelector('input[name="gender"]:checked').value
                                                        // document.getElementById('email').value
                                                        // 然後執行相應的修改操作
                                                        alert('會員信息已增加');
                                                        closeModifyDialog(); // 關閉彈跳視窗
                                                    }
                                                </script>
                                                <script>
                                                    function checkVaild(obj, msg) {
                                                        var input = obj;
                                                        const validityState = input.validity;
                                                        if (validityState.valueMissing) {
                                                            input.setCustomValidity(msg);
                                                        } else if (validityState.rangeUnderflow) {
                                                            input.setCustomValidity("Thats too low!");
                                                        } else if (validityState.rangeOverflow) {
                                                            input.setCustomValidity("Thats too high!");
                                                        } else {
                                                            input.setCustomValidity("");
                                                        }
                                            
                                                        //console.log(input);
                                                    }
                                                </script>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</body>